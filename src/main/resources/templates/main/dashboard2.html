<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/base}">
<head>
<title>ëŒ€ì‹œë³´ë“œ</title>

<th:block layout:fragment="head_extra">
	<script
		src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
	<style>
/* 1. ê¸°ë³¸ ë ˆì´ì•„ì›ƒ ì¬ì •ì˜ (í•„ìš”í•œ ê²½ìš°) */
html, body {
	height: 100%;
	margin: 0;
}

/* 2. ëŒ€ì‹œë³´ë“œ ì „ì²´ ì»¨í…Œì´ë„ˆ ì„¤ì • */
.dashboard-container {
	height: calc(100vh - 120px); /* ë·°í¬íŠ¸ ì „ì²´ ë†’ì´ì—ì„œ ìƒë‹¨ ë©”ë‰´ë°” ë“±ì„ ê³ ë ¤í•´ 120px ì œì™¸ */
	padding: 20px;
	display: flex;
	flex-direction: column;
	gap: 20px;
	overflow: hidden;
}

/* 3. ìƒë‹¨ í†µê³„ íƒ€ì¼ ê·¸ë£¹ */
.stats-group {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	gap: 20px;
	flex-shrink: 0;
}

.stat-card {
	background-color: #f7f7f7;
	padding: 15px 20px;
	border-radius: 4px;
	border: 1px solid #ddd;
	height: 90px;
}

.stat-label {
	font-size: 0.9em;
	color: #666;
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 5px;
}

.stat-value {
	font-size: 2em;
	font-weight: bold;
	color: #333;
}

.stat-icon {
	font-size: 24px;
}

/* 4. í•˜ë‹¨ ëª¨ë“ˆ ê·¸ë£¹ (2x2 Layout) */
.modules-group {
	flex-grow: 1;
	display: grid;
	grid-template-columns: 1fr 1fr;
	grid-template-rows: 1fr 1fr;
	gap: 20px;
	overflow: hidden;
}

.module-card {
	background-color: #ffffff;
	padding: 10px;
	border-radius: 4px;
	border: 1px solid #ddd;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

.module-title {
	font-size: 1.1em;
	font-weight: bold;
	margin-bottom: 10px;
	padding: 5px;
	color: #333;
	background-color: #f0f0f0;
	flex-shrink: 0;
}

/* Chart.js ìº”ë²„ìŠ¤ ìŠ¤íƒ€ì¼ */
canvas {
	flex-grow: 1;
	width: 100% !important;
	height: 100% !important;
	max-height: 100%;
}
</style>
</th:block>
</head>
<body>
	<section layout:fragment="content">

		<div class="dashboard-container">

			<div class="stats-group">

				<div class="stat-card">
					<div class="stat-label">
						<span>ê·¼ë¬´ ì¤‘ ì¸ì›</span><span class="stat-icon">ğŸ‘¥</span>
					<div class="stat-value">10ëª…</div>
					</div>
				</div>

				<div class="stat-card">
					<div class="stat-label">
						<span>ì´ë²ˆ ë‚  ë§¤ì¶œ</span><span class="stat-icon">ğŸ“ˆ</span>
					<div class="stat-value">â‚© 0</div>
					</div>
				</div>

				<div class="stat-card">
					<div class="stat-label">
						<span>ì¬ê³  í˜„í™©</span><span class="stat-icon">ğŸ›ï¸</span>
					<div class="stat-value">0ê°œ</div>
					</div>
				</div>

			</div>

			<div class="modules-group">

				<div class="module-card">
					<div class="module-title">ì˜ì—… ëª¨ë“ˆ</div>
					<canvas id="salesChart"></canvas>
				</div>

				<div class="module-card">
					<div class="module-title">ì¸ì‚¬ ëª¨ë“ˆ</div>
					<canvas id="inventoryChart"></canvas>
				</div>

				<div class="module-card">
					<div class="module-title">ì¬ê³  ëª¨ë“ˆ</div>
					<canvas id="hrChart"></canvas>
				</div>

				<div class="module-card">
					<div class="module-title">íšŒê³„ ëª¨ë“ˆ</div>
					<canvas id="accountingChart"></canvas>
				</div>

			</div>

		</div>


		<script th:inline="javascript">
			// Chart.jsë¡œ ì°¨íŠ¸ë¥¼ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
			function createChart(canvasId, type, data) {
				const ctx = document.getElementById(canvasId);
				if (!ctx)
					return;

				new Chart(ctx.getContext('2d'), {
					type : type,
					data : data,
					options : {
						responsive : true,
						maintainAspectRatio : false, // ìº”ë²„ìŠ¤ í¬ê¸°ë¥¼ ë¶€ëª¨ ì»¨í…Œì´ë„ˆì— ë§ì¶¤
						// âœ… [ìˆ˜ì •ë¨] ë²”ë¡€ë¥¼ í‘œì‹œí•˜ë„ë¡ ë³€ê²½
						plugins : {
							legend : {
								display : true,
								position : 'top',
								labels : {
									font : {
										size : 10
									}
								}
							}
						},
						scales : {
							y : {
								ticks : {
									font : {
										size : 10
									}
								}
							},
							x : {
								ticks : {
									font : {
										size : 10
									}
								}
							}
						}
					}
				});
			}

			// ë°ì´í„° ì •ì˜
			const salesData = {
				labels : [ '1Q', '2Q', '3Q', '4Q' ],
				datasets : [ {
					label : 'ë¶„ê¸° ë§¤ì¶œ',
					data : [ 12, 19, 3, 5 ],
					backgroundColor : 'rgba(75, 192, 192, 0.8)',
					borderWidth : 1
				} ]
			};
			const inventoryData = {
				labels : [ 'A ìƒí’ˆ', 'B ìƒí’ˆ', 'C ìƒí’ˆ' ],
				datasets : [ {
					data : [ 300, 50, 100 ],
					backgroundColor : [ '#FF6384', '#36A2EB', '#FFCE56' ]
				} ]
			};
			const hrData = {
				labels : [ 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ' ],
				datasets : [ {
					label : 'íœ´ê°€ ì‚¬ìš©ë¥ ',
					data : [ 1, 3, 2, 4, 1 ],
					fill : false,
					borderColor : 'rgb(255, 99, 132)',
					tension : 0.1
				} ]
			};

			// âœ… [ìˆ˜ì •ë¨] íšŒê³„ ë°ì´í„°ë¥¼ 2ê°œì˜ ë°ì´í„°ì…‹ì„ ê°€ì§„ ë¼ì¸ ì°¨íŠ¸ í˜•ì‹ìœ¼ë¡œ ë³€ê²½
			const accountingData = {
				labels : [ '4ì›”', '5ì›”', '6ì›”', '7ì›”', '8ì›”', '9ì›”', '10ì›”' ],
				datasets : [ {
					label : 'ìˆ˜ìµ',
					data : [ 120, 190, 150, 210, 180, 200, 240 ], // ì„ì˜ì˜ ìˆ˜ìµ ë°ì´í„°
					borderColor : 'rgb(54, 162, 235)',
					backgroundColor : 'rgba(54, 162, 235, 0.5)',
					tension : 0.1
				}, {
					label : 'ë¹„ìš©',
					data : [ 80, 110, 90, 100, 120, 115, 130 ], // ì„ì˜ì˜ ë¹„ìš© ë°ì´í„°
					borderColor : 'rgb(255, 99, 132)',
					backgroundColor : 'rgba(255, 99, 132, 0.5)',
					tension : 0.1
				} ]
			};

			// ì°¨íŠ¸ ìƒì„±
			createChart('salesChart', 'bar', salesData);
			createChart('inventoryChart', 'doughnut', inventoryData);
			createChart('hrChart', 'line', hrData);
			createChart('accountingChart', 'line', accountingData);
		</script>

	</section>
</body>
</html>