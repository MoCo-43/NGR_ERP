<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>구독 정보</title>
    <style>
        /* 기본 스타일 */
        body {
            font-family: 'Malgun Gothic', '맑은 고딕', sans-serif;
            background-color: #f8f9fa;
            color: #333;
            margin: 0;
        }
        
        main {
            display: flex;
            justify-content: center;
            padding: 30px 20px;
            width: 100%;
            box-sizing: border-box;
        }

        /* 메인 콘텐츠 래퍼 (더 크게 수정) */
        .content-wrapper {
            width: 1400px; 
            background-color: #fff;
            border: 1px solid #dee2e6;
            padding: 24px;
        }

        /* 페이지 상단 제목 */
        .page-title {
            text-align: center;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        /* 스텝 네비게이션 */
        .steps {
            display: flex;
            list-style: none;
            padding: 0 0 20px 0;
            margin: 0 0 24px 0;
            justify-content: space-evenly;
            border-bottom: 1px solid #e9ecef;
        }
        .steps .step { display: flex; align-items: center; color: #888; }
        .steps .step .number {
            width: 28px; height: 28px; border-radius: 50%; background-color: #adb5bd;
            color: white; display: flex; justify-content: center; align-items: center;
            margin-right: 8px; font-weight: bold; font-size: 14px;
        }
        .steps .step.active .number { background-color: #e53935; }
        .steps .step.active span { color: #e53935; font-weight: bold; }

        /* 내부 콘텐츠 레이아웃 (폼 | 사이드바) */
        .inner-layout {
            display: flex;
            gap: 32px; /* 폼과 사이드바 간격 */
        }

        .subscription-form { 
            flex: 2; /* 폼 영역 비율 (2:1) */
        }

        /* 폼 섹션 제목 */
        .form-section-label {
            font-size: 14px;
            font-weight: bold;
            color: #495057;
            margin-bottom: 8px;
            display: block;
        }
        
        .form-group {
            margin-bottom: 24px;
        }
        
        .options-group { display: flex; gap: 12px; margin-bottom: 20px; }

        /* --- CSS 수정: 클릭 안되는 서비스 표시 상자 --- */
        .service-display-box {
            flex: 1; padding: 16px; border: 1px solid #ced4da; background-color: #f8f9fa;
            text-align: center; border-radius: 4px; color: #495057;
        }

        /* 구독 기간 옵션 (클릭 가능) */
        .option-button {
            flex: 1; padding: 16px; border: 1px solid #ced4da; background-color: #fff;
            text-align: center; cursor: pointer; transition: all 0.2s; border-radius: 4px;
        }
        .option-button .icon { font-size: 24px; margin-bottom: 8px; }
        .option-button:hover { border-color: #495057; }
        .option-button.selected { border-color: #e53935; background-color: #fff3f2; color: #e53935; font-weight: bold; }
        
        /* 사용자 수 선택 (셀렉트 박스) 스타일 */
        .custom-select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 16px;
            background-color: #fff;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 16px 12px;
        }

        /* 프리미엄 섹션 */
        .premium-section {
            display: flex; justify-content: space-between; align-items: center;
            padding: 16px; border: 1px solid #dee2e6; margin-top: 24px;
        }
        .premium-section .label { font-weight: bold; }
        .premium-section .price { font-size: 18px; font-weight: bold; color: #e53935; }
        
        /* 하단 네비게이션 버튼 */
        .form-navigation { display: flex; justify-content: space-between; margin-top: 32px; }
        .nav-btn { padding: 12px 24px; border: none; cursor: pointer; font-size: 16px; border-radius: 4px; }
        .prev-btn { background-color: #6c757d; color: white; }
        .next-btn { background-color: #e53935; color: white; }

        /* 오른쪽 사이드바 (제품 설명) 스타일 */
        .sidebar {
            flex: 1; /* 사이드바 영역 비율 (2:1) */
            padding: 24px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        .sidebar h3 {
            font-size: 18px;
            margin-top: 0;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e9ecef;
        }
        .sidebar ul {
            padding-left: 20px;
            margin: 10px 0;
            line-height: 1.8;
            color: #495057;
        }
        .sidebar p {
            line-height: 1.8;
            color: #495057;
        }
    </style>
</head>
<body>
    <div th:replace="~{layout/main_header :: headerFragment}"></div>
    
    <main>
        <div class="content-wrapper">
            <h1 class="page-title">구독제품이름</h1>

            <ol class="steps">
                <li class="step active"><div class="number">1</div><span>구독정보</span></li>
                <li class="step"><div class="number">2</div><span>사용자정보</span></li>
                <li class="step"><div class="number">3</div><span>전자 계약서</span></li>
                <li class="step"><div class="number">4</div><span>결제 및 결제완료</span></li>
            </ol>
            
            <div class="inner-layout">
                <div class="subscription-form">
                    <div class="form-group">
                        <label class="form-section-label">제공 서비스</label>
                        <div class="options-group">
                            <div class="service-display-box">
                                <div>인사</div>
                            </div>
                            <div class="service-display-box">
                                <div>회계</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-section-label">구독기간</label>
                        <div class="options-group" id="duration-options">
                            <div class="option-button">
                                <div class="icon">📅</div>
                                <div>3개월</div>
                            </div>
                            <div class="option-button selected">
                                <div class="icon">📅</div>
                                <div>6개월</div>
                            </div>
                            <div class="option-button">
                                <div class="icon">📅</div>
                                <div>12개월</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="user-count-select" class="form-section-label">사용자 수(규모)</label>
                        <select id="user-count-select" class="custom-select">
                            <option value="10">10명</option>
                            <option value="50" selected>50명</option>
                            <option value="100">100명</option>
                        </select>
                    </div>

                    <div class="premium-section">
                        <span class="label">프리미엄 12개월 구독 금액</span>
                        <span class="price">금액</span>
                    </div>

                    <div class="form-navigation">
                        <button type="button" class="nav-btn prev-btn" onclick="location.href='/subscribe'">이전단계</button>
                        <button type="button" class="nav-btn next-btn" onclick="location.href='/eContract'">다음단계</button>
                    </div>
                </div>
                
                <aside class="sidebar">
                    <h3>제품에 대한 설명</h3>
                    <p><strong>구독 안내</strong></p>
                    <ul>
                        <li>원하는 구독 기간과 회사 규모(사용자 수)에 맞는 플랜을 선택하세요.</li>
                        <li><strong>12개월</strong> 구독 시 <strong>10% 할인</strong>이 적용됩니다.</li>
                    </ul>
                    <p><strong>초과 요금 정책</strong></p>
                    <ul>
                        <li>선택한 플랜의 최대 인원을 초과하여 사용자를 추가할 경우, 인당 추가 요금이 발생합니다.</li>
                    </ul>
                    <p><strong>다음 단계</strong></p>
                    <ul>
                        <li>선택 완료 후 '다음단계'를 누르면 전자 계약 페이지로 이동합니다.</li>
                    </ul>
                </aside>
            </div>
        </div>
    </main>
    
    <div th:replace="~{layout/main_footer :: footerFragment}"></div>

    <script>
        // 문서의 모든 콘텐츠가 로드된 후에 스크립트를 실행합니다.
        document.addEventListener('DOMContentLoaded', function() {
            // '구독 기간' 옵션 버튼들을 모두 선택합니다.
            const durationButtons = document.querySelectorAll('#duration-options .option-button');

            // 각 버튼에 대해 클릭 이벤트를 추가합니다.
            durationButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // 먼저 모든 버튼에서 'selected' 클래스를 제거합니다.
                    durationButtons.forEach(btn => btn.classList.remove('selected'));
                    // 그 다음, 방금 클릭한 버튼에만 'selected' 클래스를 추가합니다.
                    button.classList.add('selected');
                });
            });
        });
    </script>
</body>
</html>