<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>êµ¬ë… í”„ë¡œì„¸ìŠ¤</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        body { font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif; background-color: #f8f9fa; color: #333; margin: 0; }
        main { display: flex; justify-content: center; padding: 30px 20px; width: 100%; box-sizing: border-box; }
        .content-wrapper { width: 1400px; background-color: #fff; border: 1px solid #dee2e6; padding: 24px; }
        .page-title { text-align: center; font-size: 28px; font-weight: bold; margin-bottom: 20px; }
        
        /* ìŠ¤í… ë„¤ë¹„ê²Œì´ì…˜ */
        .steps { display: flex; list-style: none; padding: 0 0 20px 0; margin: 0 0 24px 0; justify-content: space-evenly; border-bottom: 1px solid #e9ecef; }
        .steps .step { display: flex; align-items: center; color: #888; }
        .steps .step .number { width: 28px; height: 28px; border-radius: 50%; background-color: #adb5bd; color: white; display: flex; justify-content: center; align-items: center; margin-right: 8px; font-weight: bold; font-size: 14px; }
        .steps .step.active .number { background-color: #e53935; }
        .steps .step.completed .number { background-color: #3498db; }
        .steps .step.active span { color: #e53935; font-weight: bold; }
        .steps .step.completed span { color: #3498db; }

        /* ë‚´ë¶€ ì½˜í…ì¸  ë ˆì´ì•„ì›ƒ */
        .inner-layout { display: flex; gap: 32px; }
        .main-form, .subscription-form { flex: 2; }
        .sidebar { flex: 1; padding: 24px; background-color: #f8f9fa; border-radius: 4px; }
        .sidebar h3 { font-size: 18px; margin-top: 0; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid #e9ecef; }
        .sidebar ul { padding-left: 20px; margin: 10px 0; line-height: 1.8; color: #495057; }
        .sidebar p { line-height: 1.8; color: #495057; }

        /* í¼ ê´€ë ¨ ìŠ¤íƒ€ì¼ */
        .form-section-label { font-size: 14px; font-weight: bold; color: #495057; margin-bottom: 8px; display: block; }
        .form-group { margin-bottom: 24px; }
        .input-field { width: 100%; padding: 12px; border: 1px solid #ced4da; border-radius: 4px; font-size: 16px; box-sizing: border-box; }
        .address-group { display: flex; gap: 10px; }
        .address-group .input-field { flex: 1; }
        .address-group .search-btn { padding: 12px 20px; border: 1px solid #ced4da; background-color: #e9ecef; cursor: pointer; border-radius: 4px; }

        /* ìš”ì•½ ì •ë³´ ë°•ìŠ¤ */
        .summary-box { border: 1px solid #e9ecef; border-radius: 4px; }
        .summary-box .summary-item { display: flex; justify-content: space-between; padding: 16px; border-bottom: 1px solid #e9ecef; }
        .summary-box .summary-item:last-child { border-bottom: none; }
        .summary-box .item-label { color: #495057; }
        .summary-box .item-value { font-weight: bold; }
        .summary-box .total { background-color: #f8f9fa; font-size: 18px; }
        .summary-box .total .item-value { color: #e53935; }

        /* ì˜µì…˜ ë²„íŠ¼ */
        .options-group { display: flex; gap: 12px; margin-bottom: 20px; }
        .service-display-box { flex: 1; padding: 16px; border: 1px solid #ced4da; background-color: #f8f9fa; text-align: center; border-radius: 4px; color: #495057; }
        .option-button, .payment-option { flex: 1; padding: 16px; border: 1px solid #ced4da; background-color: #fff; text-align: center; cursor: pointer; transition: all 0.2s; border-radius: 4px; }
        .option-button .icon { font-size: 24px; margin-bottom: 8px; }
        .option-button:hover, .payment-option:hover { border-color: #495057; }
        .option-button.selected, .payment-option.selected { border-color: #e53935; background-color: #fff3f2; color: #e53935; font-weight: bold; }
        
        .custom-select { width: 100%; padding: 12px; border: 1px solid #ced4da; border-radius: 4px; font-size: 16px; background-color: #fff; -webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: right 0.75rem center; background-size: 16px 12px; }
        .premium-section { display: flex; justify-content: space-between; align-items: center; padding: 16px; border: 1px solid #dee2e6; margin-top: 24px; }
        .premium-section .label { font-weight: bold; }
        .premium-section .price { font-size: 18px; font-weight: bold; color: #e53935; }

        /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ */
        .form-navigation { display: flex; justify-content: space-between; margin-top: 32px; }
        .nav-btn { padding: 12px 24px; border: none; cursor: pointer; font-size: 16px; border-radius: 4px; }
        .prev-btn { background-color: #6c757d; color: white; }
        .next-btn { background-color: #e53935; color: white; }

        /* ê²°ì œ ì™„ë£Œ í˜ì´ì§€ */
        .completion-container { text-align: center; padding: 60px 20px; }
        .completion-container h2 { font-size: 24px; margin-bottom: 16px; color: #e53935; }
        .completion-container p { font-size: 16px; color: #495057; margin-bottom: 32px; }
        .completion-container .home-btn { background-color: #e53935; color: white; padding: 14px 40px; font-size: 18px; text-decoration: none; border-radius: 4px; }

        /* JSë¡œ ì»¨íŠ¸ë¡¤í•  ì„¹ì…˜ ìˆ¨ê¹€ ì²˜ë¦¬ */
        .step-section { display: none; }
        .step-section.active { display: block; }
    </style>
</head>
<body>

    <div th:replace="~{layout/main_header :: headerFragment}"></div>
    
    <main>
        <div class="content-wrapper">
            <h1 class="page-title">êµ¬ë…ì œí’ˆì´ë¦„</h1>

            <ol class="steps">
                <li id="step-ui-1" class="step active"><div class="number">1</div><span>êµ¬ë…ì •ë³´</span></li>
                <li id="step-ui-2" class="step"><div class="number">2</div><span>ì‚¬ìš©ìì •ë³´</span></li>
                <li id="step-ui-3" class="step"><div class="number">3</div><span>ì „ì ê³„ì•½ì„œ</span></li>
                <li id="step-ui-4" class="step"><div class="number">4</div><span>ê²°ì œ ë° ê²°ì œì™„ë£Œ</span></li>
            </ol>

            <div id="step-1" class="step-section active">
                <div class="inner-layout">
                    <div class="subscription-form">
                        <div class="form-group">
                            <label class="form-section-label">ì œê³µ ì„œë¹„ìŠ¤</label>
                            <div class="options-group">
                                <div class="service-display-box"><div>ì¸ì‚¬</div></div>
                                <div class="service-display-box"><div>íšŒê³„</div></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-section-label">êµ¬ë…ê¸°ê°„</label>
                            <div class="options-group" id="duration-options">
                                <div class="option-button"><div class="icon">ğŸ“…</div><div>3ê°œì›”</div></div>
                                <div class="option-button selected"><div class="icon">ğŸ“…</div><div>6ê°œì›”</div></div>
                                <div class="option-button"><div class="icon">ğŸ“…</div><div>12ê°œì›”</div></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="user-count-select" class="form-section-label">ì‚¬ìš©ì ìˆ˜(ê·œëª¨)</label>
                            <select id="user-count-select" class="custom-select">
                                <option value="10">10ëª…</option>
                                <option value="50" selected>50ëª…</option>
                                <option value="100">100ëª…</option>
                            </select>
                        </div>
                        <div class="premium-section">
                            <span class="label">í”„ë¦¬ë¯¸ì—„ 12ê°œì›” êµ¬ë… ê¸ˆì•¡</span>
                            <span class="price">ê¸ˆì•¡</span>
                        </div>
                        <div class="form-navigation">
                            <button type="button" class="nav-btn prev-btn" disabled>ì´ì „ë‹¨ê³„</button>
                            <button type="button" class="nav-btn next-btn" onclick="goToStep(2)">ë‹¤ìŒë‹¨ê³„</button>
                        </div>
                    </div>
                    <aside class="sidebar">
                        <h3>ì œí’ˆì— ëŒ€í•œ ì„¤ëª…</h3>
                        <p><strong>êµ¬ë… ì•ˆë‚´</strong></p>
                        <ul>
                            <li>ì›í•˜ëŠ” êµ¬ë… ê¸°ê°„ê³¼ íšŒì‚¬ ê·œëª¨(ì‚¬ìš©ì ìˆ˜)ì— ë§ëŠ” í”Œëœì„ ì„ íƒí•˜ì„¸ìš”.</li>
                            <li><strong>12ê°œì›”</strong> êµ¬ë… ì‹œ <strong>10% í• ì¸</strong>ì´ ì ìš©ë©ë‹ˆë‹¤.</li>
                        </ul>
                        <p><strong>ì´ˆê³¼ ìš”ê¸ˆ ì •ì±…</strong></p>
                        <ul><li>ì„ íƒí•œ í”Œëœì˜ ìµœëŒ€ ì¸ì›ì„ ì´ˆê³¼í•˜ì—¬ ì‚¬ìš©ìë¥¼ ì¶”ê°€í•  ê²½ìš°, ì¸ë‹¹ ì¶”ê°€ ìš”ê¸ˆì´ ë°œìƒí•©ë‹ˆë‹¤.</li></ul>
                        <p><strong>ë‹¤ìŒ ë‹¨ê³„</strong></p>
                        <ul><li>ì„ íƒ ì™„ë£Œ í›„ 'ë‹¤ìŒë‹¨ê³„'ë¥¼ ëˆ„ë¥´ë©´ ì „ì ê³„ì•½ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.</li></ul>
                    </aside>
                </div>
            </div>

            <div id="step-2" class="step-section">
                <div class="inner-layout">
                    <div class="main-form">
                        <div class="form-group">
                            <label for="company-name" class="form-section-label">íšŒì‚¬ëª…</label>
                            <input type="text" id="company-name" class="input-field" placeholder="íšŒì‚¬ëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <div class="form-group">
                            <label for="biz-reg-number" class="form-section-label">ì‚¬ì—…ì ë“±ë¡ë²ˆí˜¸</label>
                            <input type="text" id="biz-reg-number" class="input-field" placeholder="'-'ë¥¼ í¬í•¨í•˜ì—¬ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <div class="form-group">
                            <label for="ceo-name" class="form-section-label">ëŒ€í‘œìëª…</label>
                            <input type="text" id="ceo-name" class="input-field" placeholder="ëŒ€í‘œìëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <div class="form-group">
                            <label for="company-address" class="form-section-label">íšŒì‚¬ ì£¼ì†Œ</label>
                            <div class="address-group">
                                 <input type="text" id="company-address" class="input-field" placeholder="ì£¼ì†Œ ê²€ìƒ‰" readonly>
                                 <button type="button" class="search-btn">ê²€ìƒ‰</button>
                            </div>
                             <input type="text" class="input-field" placeholder="ìƒì„¸ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”" style="margin-top: 10px;">
                        </div>
                        <hr style="margin: 32px 0; border: 1px solid #f1f3f5;">
                         <div class="form-group">
                            <label for="admin-name" class="form-section-label">ê´€ë¦¬ì ì´ë¦„</label>
                            <input type="text" id="admin-name" class="input-field" placeholder="ê´€ë¦¬ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <div class="form-group">
                            <label for="admin-email" class="form-section-label">ê´€ë¦¬ì ì´ë©”ì¼ (ID)</label>
                            <input type="email" id="admin-email" class="input-field" placeholder="ë¡œê·¸ì¸ IDë¡œ ì‚¬ìš©í•  ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <div class="form-navigation">
                            <button type="button" class="nav-btn prev-btn" onclick="goToStep(1)">ì´ì „ë‹¨ê³„</button>
                            <button type="button" class="nav-btn next-btn" onclick="goToStep(3)">ë‹¤ìŒë‹¨ê³„</button>
                        </div>
                    </div>
                    <aside class="sidebar">
                        <h3>ì„ íƒí•œ êµ¬ë… ì •ë³´</h3>
                        <div class="summary-box">
                            <div class="summary-item">
                                <span class="item-label">êµ¬ë… ê¸°ê°„</span>
                                <span class="item-value">6ê°œì›”</span>
                            </div>
                             <div class="summary-item">
                                <span class="item-label">ì‚¬ìš©ì ìˆ˜</span>
                                <span class="item-value">50ëª…</span>
                            </div>
                             <div class="summary-item total">
                                <span class="item-label">ì˜ˆìƒ ê²°ì œê¸ˆì•¡</span>
                                <span class="item-value">ê¸ˆì•¡</span>
                            </div>
                        </div>
                        <h3 style="margin-top: 24px;">ì•ˆë‚´</h3>
                        <ul>
                            <li>ì…ë ¥í•˜ì‹  ì •ë³´ëŠ” ì•ˆì „í•˜ê²Œ ê´€ë¦¬ë©ë‹ˆë‹¤.</li>
                            <li>ê´€ë¦¬ì ì •ë³´ëŠ” ì„œë¹„ìŠ¤ ë¡œê·¸ì¸ ë° ì£¼ìš” ì•Œë¦¼ ìˆ˜ì‹ ì— ì‚¬ìš©ë˜ë¯€ë¡œ ì •í™•í•˜ê²Œ ì…ë ¥í•´ ì£¼ì„¸ìš”.</li>
                        </ul>
                    </aside>
                </div>
            </div>

            <div id="step-3" class="step-section">
                <div style="border: 1px solid #dee2e6; padding: 20px; height: 400px; overflow-y: auto; margin-bottom: 20px;">
                    <h3 style="text-align: center;">ì „ì ê³„ì•½ì„œ</h3>
                    <p><strong>ì œ 1ì¡° (ëª©ì )</strong> ë³¸ ê³„ì•½ì€ ...</p>
                    <p><strong>ì œ 2ì¡° (ì„œë¹„ìŠ¤ì˜ ë‚´ìš©)</strong> ...</p>
                    <p>...</p>
                </div>
                <div class="form-navigation">
                    <button type="button" class="nav-btn prev-btn" onclick="goToStep(2)">ì´ì „ë‹¨ê³„</button>
                    <button type="button" class="nav-btn next-btn" onclick="goToStep(4)">ê³„ì•½ì— ë™ì˜ ë° ë‹¤ìŒë‹¨ê³„</button>
                </div>
            </div>

            <div id="step-4" class="step-section">
                <div class="inner-layout">
                    <div class="main-form">
                        <div class="form-group">
                            <label class="form-section-label">ìµœì¢… ê²°ì œ ì •ë³´</label>
                            <div class="summary-box">
                                 <div class="summary-item">
                                    <span class="item-label">êµ¬ë… ê¸°ê°„</span>
                                    <span class="item-value">6ê°œì›”</span>
                                </div>
                                 <div class="summary-item">
                                    <span class="item-label">ì‚¬ìš©ì ìˆ˜</span>
                                    <span class="item-value">50ëª…</span>
                                </div>
                                <div class="summary-item">
                                    <span class="item-label">ê¸°ë³¸ ê¸ˆì•¡</span>
                                    <span class="item-value">1,000,000ì›</span>
                                </div>
                                 <div class="summary-item">
                                    <span class="item-label">í• ì¸ ê¸ˆì•¡</span>
                                    <span class="item-value">- 0ì›</span>
                                </div>
                                 <div class="summary-item total">
                                    <span class="item-label">ì´ ê²°ì œ ê¸ˆì•¡</span>
                                    <span class="item-value">1,000,000ì›</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-section-label">ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ</label>
                            <div class="options-group" id="payment-options">
                                <div class="payment-option selected">ì‹ ìš©ì¹´ë“œ</div>
                                <div class="payment-option">ê³„ì¢Œì´ì²´</div>
                                <div class="payment-option">ê°€ìƒê³„ì¢Œ</div>
                            </div>
                        </div>
                        <div class="form-navigation">
                            <button type="button" class="nav-btn prev-btn" onclick="goToStep(3)">ì´ì „ë‹¨ê³„</button>
                            <button type="button" class="nav-btn next-btn" onclick="goToStep(5)">1,000,000ì› ê²°ì œí•˜ê¸°</button>
                        </div>
                    </div>
                    <aside class="sidebar">
                         <h3>ê²°ì œ ì•ˆë‚´</h3>
                        <ul>
                            <li>ê²°ì œëŠ” ì•ˆì „í•œ PGì‚¬ë¥¼ í†µí•´ ì§„í–‰ë©ë‹ˆë‹¤.</li>
                            <li>ê²°ì œ ì™„ë£Œ í›„ ì¦‰ì‹œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                            <li>ê²°ì œ ê´€ë ¨ ë¬¸ì˜ëŠ” ê³ ê°ì„¼í„°(1234-5678)ë¡œ ì—°ë½ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</li>
                        </ul>
                    </aside>
                </div>
            </div>

            <div id="step-5" class="step-section">
                <div class="completion-container">
                    <h2>ê²°ì œê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
                    <p>ì´ì œ ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ ì •ìƒì ìœ¼ë¡œ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>ê´€ë¦¬ì ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ì—¬ ì„œë¹„ìŠ¤ë¥¼ ì‹œì‘í•´ ë³´ì„¸ìš”.</p>
                    <div class="summary-box" style="width: 500px; margin: 0 auto 40px auto; text-align: left;">
                         <div class="summary-item">
                            <span class="item-label">êµ¬ë… í”Œëœ</span>
                            <span class="item-value">í”„ë¦¬ë¯¸ì—„</span>
                        </div>
                         <div class="summary-item">
                            <span class="item-label">êµ¬ë… ê¸°ê°„</span>
                            <span class="item-value">2025-09-28 ~ 2026-03-27</span>
                        </div>
                    </div>
                    <a href="/dashboard" class="home-btn">ì„œë¹„ìŠ¤ ì‹œì‘í•˜ê¸°</a>
                </div>
            </div>
        </div>
    </main>

    <div th:replace="~{layout/main_footer :: footerFragment}"></div>

    <script>
        // í˜„ì¬ í™œì„±í™”ëœ ìŠ¤í… ë²ˆí˜¸ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜
        let currentStep = 1;

        function goToStep(stepNumber) {
            // í˜„ì¬ ìŠ¤í… ìˆ¨ê¸°ê¸°
            const currentStepElement = document.getElementById(`step-${currentStep}`);
            if (currentStepElement) {
                currentStepElement.classList.remove('active');
            }
            
            // ì´ë™í•  ìŠ¤í… ë³´ì´ê¸°
            const nextStepElement = document.getElementById(`step-${stepNumber}`);
            if (nextStepElement) {
                nextStepElement.classList.add('active');
            }

            // ìƒë‹¨ ìŠ¤í… UI ì—…ë°ì´íŠ¸
            updateStepUI(stepNumber);

            // í˜„ì¬ ìŠ¤í… ë²ˆí˜¸ ì—…ë°ì´íŠ¸
            currentStep = stepNumber;
        }

        function updateStepUI(targetStep) {
            const steps = document.querySelectorAll('.steps .step');
            
            // ê²°ì œ ì™„ë£Œ(5) ë‹¨ê³„ëŠ” UIìƒ 4ë‹¨ê³„ë¡œ ì²˜ë¦¬
            const uiTargetStep = targetStep > 4 ? 4 : targetStep;

            steps.forEach((step, index) => {
                const stepIndex = index + 1;
                step.classList.remove('active', 'completed');

                if (stepIndex < uiTargetStep) {
                    step.classList.add('completed');
                } else if (stepIndex === uiTargetStep) {
                    step.classList.add('active');
                }
            });
            
            // ì‹¤ì œ ê²°ì œê°€ ì™„ë£Œë˜ë©´(5ë‹¨ê³„) 4ë‹¨ê³„ UIë¥¼ completedë¡œ ë³€ê²½
            if (targetStep === 5) {
                const step4UI = document.getElementById('step-ui-4');
                if (step4UI) {
                    step4UI.classList.remove('active');
                    step4UI.classList.add('completed');
                }
            }
        }

        // --- ì˜µì…˜ ì„ íƒ ë²„íŠ¼ë“¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ---
        document.addEventListener('DOMContentLoaded', function() {
            // êµ¬ë… ê¸°ê°„ ì„ íƒ
            const durationButtons = document.querySelectorAll('#duration-options .option-button');
            durationButtons.forEach(button => {
                button.addEventListener('click', () => {
                    durationButtons.forEach(btn => btn.classList.remove('selected'));
                    button.classList.add('selected');
                });
            });

            // ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ
            const paymentOptions = document.querySelectorAll('#payment-options .payment-option');
            paymentOptions.forEach(option => {
                option.addEventListener('click', () => {
                    paymentOptions.forEach(opt => opt.classList.remove('selected'));
                    option.classList.add('selected');
                });
            });
        });
    </script>
</body>
