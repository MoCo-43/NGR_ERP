<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"/>
  <title>부서 목록 모달</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet"/>
  <!-- AG Grid -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@31.3.1/styles/ag-grid.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@31.3.1/styles/ag-theme-quartz.css"/>

  <style>
    /* ✅ 모달 가로폭 줄이기 */
    #deptModal .modal-dialog {
      max-width: 600px; /* 원하는 크기로 조정 (기본 modal-lg는 약 992px) */
    }
     #deptModal .modal-content {
      max-height: 80vh;   /* 화면 높이의 80% */
      overflow: hidden;   /* 스크롤은 body에만 */
    }
  </style>
</head>
<body>
  <!-- 부서 목록 모달 fragment -->
  <div th:fragment="deptModal">
    <div class="modal fade" id="deptModal" tabindex="-1" aria-hidden="true">
      <!-- ✅ modal-lg 로 크기 변경 -->
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <!-- 헤더 -->
          <div class="modal-header">
            <h5 class="modal-title">부서 조회</h5>
            <button type="button" class="btn btn-light btn-sm border-0" data-bs-dismiss="modal" aria-label="닫기">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <!-- 바디 -->
          <div class="modal-body">
            <!-- 검색폼 -->
            <form id="searchForm" class="card p-3 mb-3">
              <div class="row g-3 align-items-end">
                <div class="col-md-4">
                  <label for="deptName" class="form-label">부서명</label>
                  <input type="text" id="deptName" name="deptName" class="form-control" placeholder="부서명 입력"/>
                </div>
                <div class="col-md-2">
                  <button type="button" id="searchBtn" class="btn btn-primary w-100">검색</button>
                </div>
                <div class="col-md-2">
                  <button type="reset" class="btn btn-danger w-100">초기화</button>
                </div>
              </div>
            </form>

            <!-- AG Grid -->
            <div id="deptGrid" class="ag-theme-quartz" style="height:400px; width:100%;"></div>
          </div>

          <!-- 푸터 -->
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
